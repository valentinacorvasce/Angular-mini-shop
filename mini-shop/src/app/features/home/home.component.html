<!-- Page Header-->
<header class="masthead" style="background-image: url('assets/img/home-bg.jpg')">
  <div class="container position-relative px-4 px-lg-5">
      <div class="row gx-4 gx-lg-5 justify-content-center">
          <div class="col-md-10 col-lg-8 col-xl-7">
              <div class="site-heading">
                  <h1 class="headerTitle">Clean Blog</h1>
                  <span class="subheading">
                    <form>
                          <div class="form"><i class="fa fa-search fs-4"></i><input type="text" class="form-control form-input" autocomplete="off" [(ngModel)]="text" name="text" placeholder="Search Book..."> <span class="left-pan"><button class="btn btn-secondary"  type="submit">Search</button></span> </div>
                    </form>
                </span>
              </div>
          </div>
      </div>
  </div>
</header>
 <!-- Main Content-->
 <div class="container px-4 px-lg-5">
  <div class="row gx-4 gx-lg-5">
      <!--search result-->
      <div class="col-sm-6 border-radius mb-3">
        <div *ngIf="error" class="alert alert-danger">Error</div>
          <small><b>Results for word: {{text}} <br> Total items: {{this.books?.length}}</b></small>
          <hr class="my-1" />
          <!-- Search preview-->
          <!-- <pre>{{books | json}}</pre> -->
          <app-spinner *ngIf="!books"></app-spinner>
          <div class="post-preview searchResult" *ngFor="let book of books | filter: text" (click)="setActive(book)" [ngClass]="{'active': book.id === this.active?.id}">
              <img [src]="book.imageLink" class="img-fluid" alt="">
                  <h2 class="post-title">{{book.title}}</h2>
                  <p class="post-meta">Autore: <em><i>{{book.author}}</i></em>
                      <br>
                      Isbn: {{book.isbn}}
                  </p>
                   <!-- Divider-->
            <hr class="my-4" />
          </div>
      </div>
      <!--feedback and cart-->
      <div class="col-sm-6">
          <!-- Post preview-->
          <div class="post-preview">
                  <h2 class="post-title">{{active?.title}}
                      <i class="fa fa-info-circle blue" data-bs-toggle="modal" data-bs-target="#exampleModal"></i>
                  </h2>
              <!-- Modal -->
              <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                      <div class="modal-content">
                          <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel">{{active?.title}}</h5>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                          <div class="modal-body">
                              {{active?.descr}}
                          </div>
                          <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                          </div>
                      </div>
                  </div>
              </div>
                  <p class="post-meta">
                      Author: {{active?.author}} <br>
                      Isbn: {{active?.isbn}}<br>
                      Pagine: {{active?.pages}}<br>
                      Categorie: {{active?.category}}<br>
                      Anno di uscita: {{active?.year}}<br>
                      Feedback:
                      <i *ngFor="let star of 5 | inToArray; index as i"
                      class="icon"
                      [ngClass]="{'ion-ios-star gold': i < active.stars, 'ion-ios-star-outline': i >= active.stars}"
                      ></i>
                      <!-- <i class="icon ion-ios-star gold"></i>
                      <i class="icon ion-ios-star gold"></i>
                      <i class="icon ion-ios-star gold"></i>
                      <i class="icon ion-ios-star-outline"></i><br> -->
                      <br>
                      <b>Price: {{active?.price | number: '1.2'}} â‚¬</b>
                  </p>
              <button (click)="addToCart(active)" class="btn btn-success">Add to cart</button>
          </div>

          <!-- Pager-->
      </div>
  </div>
</div>
